{"version":3,"sources":["module.js","services/PaginatorSettingsService.js","controllers/Paginator.js","components/paginator.js"],"names":["angular","module","PaginatorSettingsService","settings","this","getSettings","provider","setSettings","$get","controller","$element","$scope","extractElements","console","log","$content","children","appendTo","$contentContainer","$models","find","$component","update","detachObserver","attachObserver","initComponentHtml","addClass","paginate","initEvents","eventNames","split","forEach","eventName","paginatorEventName","on","$emit","observer","observe","childList","attributes","characterData","subtree","disconnect","eq","$","MutationObserver","$onInit","component","template","transclude","headers","content","footers","loader"],"mappings":"CAAA,WACAA,QAAAC,OAAA,0CAEAD,QAAAC,OAAA,0CACA,wCAGAD,QAAAC,OAAA,yCACA,2CAGAD,QAAAC,OAAA,8BACA,6CCZA,WACA,GAAAC,GAAA,SAAAC,GACAC,KAAAC,YAAA,WACA,MAAAF,IAIAH,SACAC,OAAA,uCACAK,SAAA,2BAAA,WACA,UAEA,IAAAA,GAAAF,IAEAE,GAAAH,YAEAG,EAAAC,YAAA,SAAAJ,GACAG,EAAAH,SAAAA,GAGAG,EAAAE,KAAA,WACA,MAAA,IAAAN,GAAAI,EAAAH,gBCrBA,WAKAH,QACAC,OAAA,0CACAQ,WAAA,iBAAA,WAAA,SAAA,2BAAA,SACAC,EACAC,EACAT,GAEA,UAQA,SAAAU,KACAC,QAAAC,IAAAC,GAEAA,EACAC,WACAA,WACAC,SAAAC,GAEAC,EACAC,KAAA,oBACAH,SAAAI,EAAAD,KAAA,WAGA,QAAAE,KACAC,IACAX,IACAY,IAGA,QAAAC,KACAf,EAAAgB,SAAA,qBAEAL,EAAAM,WAEAT,EACAQ,SAAA,WACAT,SAAAI,EAAAD,KAAA,WAGA,QAAAQ,KACA,GAAAC,GAAA,kCAAAC,MAAA,IAEAD,GACAE,QAAA,SAAAC,GACA,GAAAC,GAAA,aAAAD,CAEAX,GAAAa,GAAAD,EAAA,WACAtB,EAAAwB,MAAAF,OAKA,QAAAT,KACAY,EAAAC,QAAAlB,EAAA,IAAAmB,WAAA,EAAAC,YAAA,EAAAC,eAAA,EAAAC,SAAA,IAGA,QAAAlB,KACAa,EAAAM,aArDA,GAAArB,GAAAX,EAAAM,WAAA2B,GAAA,GACAxB,EAAAT,EAAAM,WAAA2B,GAAA,GACA5B,EAAAI,EAAAH,WAAA2B,GAAA,GACAzB,EAAA0B,EAAA,SACAR,EAAA,GAAAS,kBAAAvB,EAoDAlB,MAAA0C,QAAA,WACArB,IACAG,IACAJ,WCzEA,WACAxB,QACAC,OAAA,yCACA8C,UAAA,kBACAC,SAAA,WACA,MAAA,gSAUAC,YACAC,QAAA,oBACAC,QAAA,wBACAC,QAAA,oBACAC,OAAA,yBAEA5C,WAAA","file":"angular-paginator.min.js","sourcesContent":["(function () {\n    angular.module('theoryofnekomata.paginator.services', []);\n\n    angular.module('theoryofnekomata.paginator.controllers', [\n        'theoryofnekomata.paginator.services'\n    ]);\n\n    angular.module('theoryofnekomata.paginator.components', [\n        'theoryofnekomata.paginator.controllers'\n    ]);\n\n    angular.module('theoryofnekomata.paginator', [\n        'theoryofnekomata.paginator.components'\n    ]);\n})();\n","(function () {\n    var PaginatorSettingsService = function PaginatorSettingsService(settings) {\n        this.getSettings = function getSettings() {\n            return settings;\n        };\n    };\n\n    angular\n        .module('theoryofnekomata.paginator.services')\n        .provider('PaginatorSettingsService', function PaginatorSettingsServiceProvider() {\n            \"ngInject\";\n\n            var provider = this;\n\n            provider.settings = {};\n\n            provider.setSettings = function setSettings(settings) {\n                provider.settings = settings;\n            };\n\n            provider.$get = function PaginatorSettingsServiceFactory() {\n                return new PaginatorSettingsService(provider.settings);\n            };\n        });\n})();\n","(function () {\n    var debounce = null,\n        lock = false,\n        debounceDelay = 250;\n\n    angular\n        .module('theoryofnekomata.paginator.controllers')\n        .controller('PaginatorCtrl', function PaginatorCtrl(\n            $element,\n            $scope,\n            PaginatorSettingsService\n        ) {\n            \"ngInject\";\n\n            var $component = $element.children().eq(0),\n                $models = $element.children().eq(1),\n                $content = $models.children().eq(1),\n                $contentContainer = $('<div>'),\n                observer = new MutationObserver(update);\n\n            function extractElements() {\n                console.log($content);\n\n                $content\n                    .children()\n                    .children()\n                    .appendTo($contentContainer);\n\n                $models\n                    .find('.header, .footer')\n                    .appendTo($component.find('.watch'));\n            }\n\n            function update() {\n                detachObserver();\n                extractElements();\n                attachObserver();\n            }\n\n            function initComponentHtml() {\n                $element.addClass('paginator-wrapper');\n\n                $component.paginate();\n\n                $contentContainer\n                    .addClass('content')\n                    .appendTo($component.find('.watch'));\n            }\n\n            function initEvents() {\n                var eventNames = 'modelchangestart modelchangeend'.split(' ');\n\n                eventNames\n                    .forEach(function (eventName) {\n                        var paginatorEventName = 'paginator.' + eventName;\n\n                        $component.on(paginatorEventName, function () {\n                            $scope.$emit(paginatorEventName);\n                        });\n                    });\n            }\n\n            function attachObserver() {\n                observer.observe($models[0], { childList: true, attributes: true, characterData: true, subtree: true });\n            }\n\n            function detachObserver() {\n                observer.disconnect();\n            }\n\n            this.$onInit = function () {\n                initComponentHtml();\n                initEvents();\n                attachObserver();\n            };\n        });\n})();\n","(function () {\n    angular\n        .module('theoryofnekomata.paginator.components')\n        .component('tmtknPaginator', {\n            template: function () {\n                return (\n                    '<div class=\"paginator-component\"></div>' +\n                    '<div class=\"paginator-model\">' +\n                        '<div data-ng-transclude=\"headers\"></div>' +\n                        '<div class=\"paginator-content\" data-ng-transclude=\"content\"></div>' +\n                        '<div data-ng-transclude=\"footers\"></div>' +\n                    '</div>' +\n                    '<div class=\"paginator-loader\" data-ng-transclude=\"loader\"></div>'\n                );\n            },\n            transclude: {\n                headers: '?tmtknPageHeaders',\n                content: 'tmtknPaginatorContent',\n                footers: '?tmtknPageFooters',\n                loader: '?tmtknPaginatorLoader'\n            },\n            controller: 'PaginatorCtrl'\n        });\n})();\n"]}